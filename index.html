<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Birthday Bash!</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;600;800&family=Pacifico&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. CORE SETTINGS --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Outfit', sans-serif;
            background: radial-gradient(circle at center, #1a1a2e, #16213e, #0f3460);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }

        /* --- 2. BACKGROUND EFFECTS --- */
        #canvas-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; pointer-events: none;
        }

        .balloon {
            position: absolute; bottom: -100px; width: 50px; height: 70px;
            border-radius: 50%; background: rgba(255, 255, 255, 0.2);
            box-shadow: inset -5px -5px 10px rgba(0,0,0,0.1);
            animation: floatUp linear infinite; z-index: 1;
        }
        .balloon::after { content: ''; position: absolute; bottom: -15px; left: 50%; width: 2px; height: 15px; background: rgba(255,255,255,0.5); }
        .b1 { left: 10%; background: #ff5e57; animation-duration: 8s; }
        .b2 { left: 25%; background: #ffdd59; animation-duration: 12s; transform: scale(1.2); }
        .b3 { left: 50%; background: #05c46b; animation-duration: 10s; transform: scale(0.8); }
        .b4 { left: 75%; background: #0fbcf9; animation-duration: 15s; transform: scale(1.1); }
        .b5 { left: 90%; background: #d2dae2; animation-duration: 9s; transform: scale(0.9); }

        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            100% { transform: translateY(-110vh) rotate(20deg); opacity: 0; }
        }

        /* --- 3. MAIN CONTAINER --- */
        .container {
            position: relative; z-index: 10; text-align: center;
            max-width: 1200px; width: 90%;
            animation: slideUpFade 1.5s ease-out;
            padding-bottom: 80px;
            margin-top: 20px;
        }

        /* --- 4. PHOTO GALLERY --- */
        .gallery-wrapper {
            display: flex; justify-content: center; align-items: center;
            gap: 20px; margin-bottom: 30px; position: relative;
        }
        .photo-box {
            position: relative; object-fit: cover; border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5); transition: transform 0.3s ease;
        }
        .photo-box img { width: 100%; height: 100%; object-fit: cover; border-radius: 20px; }
        .main-photo {
            width: 200px; height: 200px; border-radius: 50%;
            border: 5px solid rgba(255,255,255,0.9);
            box-shadow: 0 0 40px #ff00de, 0 0 80px #ff00de; z-index: 5;
            animation: bounceFloat 3s infinite ease-in-out;
        }
        .main-photo img { border-radius: 50%; }
        .side-photo {
            width: 140px; height: 160px; border: 4px solid rgba(255,255,255,0.6);
            background: rgba(255,255,255,0.1); backdrop-filter: blur(5px); z-index: 4;
        }
        .p-left { transform: rotate(-10deg) translateY(20px); animation: floatLeft 4s infinite ease-in-out; }
        .p-right { transform: rotate(10deg) translateY(20px); animation: floatRight 5s infinite ease-in-out; }

        @keyframes floatLeft { 0%, 100% { transform: rotate(-10deg) translateY(20px); } 50% { transform: rotate(-12deg) translateY(0px); } }
        @keyframes floatRight { 0%, 100% { transform: rotate(10deg) translateY(20px); } 50% { transform: rotate(12deg) translateY(0px); } }
        @keyframes bounceFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        /* --- UPDATED TEXT ANIMATION --- */
        h1 {
            font-family: 'Pacifico', cursive; 
            font-size: 4rem; 
            margin-bottom: 10px;
            /* Rainbow gradient for smooth wave effect */
            background: linear-gradient(90deg, 
                #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3, #ff0000);
            background-size: 400%; /* Make background larger than text to slide it */
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent;
            /* Animation loop */
            animation: rainbowWave 6s linear infinite;
            filter: drop-shadow(0 0 15px rgba(255,255,255,0.3));
        }

        @keyframes rainbowWave {
            0% { background-position: 0%; }
            100% { background-position: 400%; }
        }

        .subtitle { font-size: 1.2rem; letter-spacing: 2px; margin-bottom: 50px; text-transform: uppercase; opacity: 0.9; }

        /* --- 5. CARDS & ANIMATIONS --- */
        .cards-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; }
        
        .card-box { width: 280px; height: 350px; perspective: 1000px; cursor: pointer; position: relative;}
        
        .card-inner { 
            width: 100%; height: 100%; text-align: center; 
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d; 
            position: relative;
            border-radius: 20px;
        }

        /* FLIPPED STATE */
        .card-box.flipped .card-inner { 
            transform: rotateY(180deg) scale(1.1); 
            box-shadow: 0 0 30px rgba(255,255,255,0.3);
        }

        /* --- MORPHING CLASSES (Hidden Card, Show Object) --- */
        .card-inner.morphing .front, 
        .card-inner.morphing .back {
            opacity: 0; /* Hide card faces during animation */
        }
        .card-inner.morphing {
            background: transparent; /* Make card background invisible */
            box-shadow: none;
            border: none;
        }
        
        /* --- ANIMATION OBJECTS --- */
        .anim-obj {
            position: absolute; top: 50%; left: 50%; 
            transform: translate(-50%, -50%) scale(0);
            font-size: 6rem;
            z-index: 50; opacity: 0; pointer-events: none;
        }

        /* 1. ROCKET (Diwali Firecracker) */
        .morphing .rocket {
            opacity: 1;
            animation: rocketLaunch 1.5s ease-in forwards;
        }
        @keyframes rocketLaunch {
            0% { transform: translate(-50%, 100px) scale(1); }
            10% { transform: translate(-50%, 100px) scale(1) rotate(-10deg); }
            20% { transform: translate(-50%, 100px) scale(1) rotate(10deg); }
            30% { transform: translate(-50%, 100px) scale(1) rotate(0deg); }
            100% { transform: translate(-50%, -300px) scale(0.5); opacity: 0; }
        }

        /* 2. ROSE (Blooming) */
        .morphing .rose {
            opacity: 1;
            animation: roseBloom 1.5s ease-out forwards;
        }
        @keyframes roseBloom {
            0% { transform: translate(-50%, -50%) scale(0) rotate(0deg); }
            60% { transform: translate(-50%, -50%) scale(1.8) rotate(360deg); }
            100% { transform: translate(-50%, -50%) scale(1.5) rotate(360deg); opacity: 0;}
        }

        /* 3. CAKE (Bouncy Pop) */
        .morphing .cake {
            opacity: 1;
            animation: cakePop 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
        }
        @keyframes cakePop {
            0% { transform: translate(-50%, 100px) scale(0); }
            50% { transform: translate(-50%, -50%) scale(1.5); }
            80% { transform: translate(-50%, -50%) scale(1.2); }
            100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }
        }

        /* Standard Card Styles */
        .front, .back {
            position: absolute; width: 100%; height: 100%; border-radius: 20px;
            backface-visibility: hidden; display: flex; flex-direction: column;
            justify-content: center; align-items: center; padding: 30px;
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            transition: opacity 0.3s;
        }
        .front { border-bottom: 5px solid; }
        .c1 .front { border-bottom-color: #ff4757; }
        .c2 .front { border-bottom-color: #2ed573; }
        .c3 .front { border-bottom-color: #1e90ff; }
        
        .icon { font-size: 4rem; margin-bottom: 20px; }
        .title { font-size: 1.5rem; font-weight: 800; text-transform: uppercase; }
        .hint { font-size: 0.8rem; margin-top: 15px; opacity: 0.7; }
        
        .back { 
            transform: rotateY(180deg); 
            background: rgba(0, 0, 0, 0.8); 
            border: 2px solid rgba(255,255,255,0.2); 
        }
        .msg { font-size: 1.1rem; line-height: 1.6; color: #fff; text-shadow: 0 2px 4px black; }

        footer {
            position: fixed; bottom: 15px; width: 100%; text-align: center;
            color: rgba(255, 255, 255, 0.6); font-size: 0.9rem; z-index: 100; pointer-events: none;
        }
        .heart { color: #ff4757; display: inline-block; animation: beat 1s infinite; }
        @keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.3); } }
        @keyframes slideUpFade { from { opacity: 0; transform: translateY(100px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; margin-top: 10px; }
            .gallery-wrapper { gap: 10px; }
            .side-photo { width: 90px; height: 110px; }
            .main-photo { width: 140px; height: 140px; }
            .card-box { width: 100%; height: 250px; }
        }
    </style>
</head>
<body>

    <audio id="birthday-song" loop>
        <source src="happy-bday-full-song-abcd-2-varun-dhawan-shraddha-kapoor-sachin-jigar-d_GD2lopOf.mp3" type="audio/mpeg">
    </audio>

    <canvas id="canvas-container"></canvas>
    <div class="balloon b1"></div><div class="balloon b2"></div><div class="balloon b3"></div><div class="balloon b4"></div><div class="balloon b5"></div>

    <div class="container">
        
        <div class="gallery-wrapper">
            <div class="photo-box side-photo p-left">
                <img src="Ritul2.png" alt="Side Photo 1">
            </div>
            <div class="photo-box main-photo">
                <img src="Ritul1.png" alt="Main Profile">
            </div>
            <div class="photo-box side-photo p-right">
                <img src="Ritul3.png" alt="Side Photo 2">
            </div>
        </div>

        <h1>Happy Birthday Ritul!</h1>
        <p class="subtitle">Welcome to your Special Digital Space</p>

        <div class="cards-grid">
            
            <div class="card-box c1" onclick="triggerMorph(this, 'cracker')">
                <div class="card-inner">
                    <div class="anim-obj rocket">üöÄ</div>
                    <div class="front"><div class="icon">üéá</div><div class="title">Wishes</div><div class="hint">Click to Open</div></div>
                    <div class="back"><p class="msg">Happy Birthday Ritul Bhai! May your life rocket to new heights of success this year. Wishing you an explosion of joy and prosperity!</p></div>
                </div>
            </div>

            <div class="card-box c2" onclick="triggerMorph(this, 'rose')">
                <div class="card-inner">
                    <div class="anim-obj rose">üåπ</div>
                    <div class="front"><div class="icon">‚ú®</div><div class="title">Magic</div><div class="hint">Click to Open</div></div>
                    <div class="back"><p class="msg">Like a blooming rose, you bring beauty and fragrance to the lives of everyone around you. Stay fresh, stay awesome!</p></div>
                </div>
            </div>

            <div class="card-box c3" onclick="triggerMorph(this, 'cake')">
                <div class="card-inner">
                    <div class="anim-obj cake">üéÇ</div>
                    <div class="front"><div class="icon">üéÅ</div><div class="title">Surprise</div><div class="hint">Click to Open</div></div>
                    <div class="back"><p class="msg">No birthday is complete without Cake! Here is a digital slice for you. Real party loading soon! ü•Ç</p></div>
                </div>
            </div>

        </div>
    </div>

    <footer>Made with <span class="heart">‚ù§Ô∏è</span> by Rohit</footer>

    <script>
        // --- AUTOPLAY MUSIC ---
        window.addEventListener('load', () => {
            const audio = document.getElementById('birthday-song');
            audio.play().catch(error => {
                document.body.addEventListener('click', () => { audio.play(); }, { once: true });
            });
        });

        // --- MORPHING & OPENING LOGIC ---
        function triggerMorph(cardElement, type) {
            const cardInner = cardElement.querySelector('.card-inner');
            
            // If already flipped, just close it
            if (cardElement.classList.contains('flipped')) {
                cardElement.classList.remove('flipped');
                return;
            }

            // 1. Hide Card, Show Animation Object
            cardInner.classList.add('morphing');

            // 2. Handle Specific Timing based on animation
            let delay = 1500; // 1.5 seconds for animation
            
            // Get position for effects
            const rect = cardElement.getBoundingClientRect();
            const centerX = rect.left + rect.width/2;
            const centerY = rect.top + rect.height/2;

            setTimeout(() => {
                // 3. End Animation, Reveal Card
                cardInner.classList.remove('morphing');
                cardElement.classList.add('flipped');   

                // 4. Special Effects based on Type
                if(type === 'cracker') {
                    // Big Explosion high up (where rocket went)
                    explode(centerX, centerY - 200); 
                    setTimeout(() => explode(centerX - 50, centerY - 150), 100);
                    setTimeout(() => explode(centerX + 50, centerY - 150), 200);
                } else if (type === 'rose') {
                    // Gentle confetti fall
                    explode(centerX, centerY);
                } else if (type === 'cake') {
                    // Simple pop
                    explode(centerX, centerY);
                }

            }, delay);
        }

        // --- GRAPHICS LOGIC ---
        const canvas = document.getElementById('canvas-container');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particles = [];
        function random(min, max) { return Math.random() * (max - min) + min; }

        class Particle {
            constructor(x, y, color, velocity) {
                this.x = x; this.y = y; this.color = color; this.velocity = velocity;
                this.alpha = 1; this.friction = 0.96; this.gravity = 0.04;
            }
            draw() {
                ctx.save(); ctx.globalAlpha = this.alpha; ctx.beginPath();
                ctx.arc(this.x, this.y, 3, 0, Math.PI * 2, false); ctx.fillStyle = this.color; ctx.fill(); ctx.restore();
            }
            update() {
                this.velocity.x *= this.friction; this.velocity.y *= this.friction;
                this.velocity.y += this.gravity; this.x += this.velocity.x; this.y += this.velocity.y;
                this.alpha -= 0.008;
            }
        }
        function explode(x, y) {
            const colors = ['#ff4757', '#2ed573', '#1e90ff', '#ffa502', '#ffffff', '#ff6b81'];
            for (let i = 0; i < 60; i++) {
                particles.push(new Particle(x, y, colors[Math.floor(Math.random()*colors.length)], {
                    x: (Math.random()-0.5)*random(5,12), y: (Math.random()-0.5)*random(5,12)
                }));
            }
        }
        class Confetti {
            constructor() {
                this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height - canvas.height;
                this.size = Math.random() * 8 + 4; this.speed = Math.random() * 3 + 1;
                this.angle = Math.random() * 360; this.spin = Math.random() < 0.5 ? -1 : 1;
                this.color = `hsl(${Math.random() * 360}, 70%, 50%)`;
            }
            draw() {
                ctx.save(); ctx.translate(this.x, this.y); ctx.rotate(this.angle * Math.PI / 180);
                ctx.fillStyle = this.color; ctx.fillRect(0, 0, this.size, this.size); ctx.restore();
            }
            update() {
                this.y += this.speed; this.angle += this.spin;
                if (this.y > canvas.height) this.y = -10;
            }
        }
        let confettiArray = [];
        for(let i=0; i<80; i++) confettiArray.push(new Confetti());
        function animate() {
            requestAnimationFrame(animate);
            ctx.fillStyle = 'rgba(26, 26, 46, 0.2)'; ctx.fillRect(0, 0, canvas.width, canvas.height);
            particles.forEach((p, i) => { if(p.alpha > 0) { p.update(); p.draw(); } else particles.splice(i, 1); });
            confettiArray.forEach(c => { c.update(); c.draw(); });
            if (Math.random() < 0.03) explode(random(100, canvas.width - 100), random(100, canvas.height/2));
        }
        animate();
        window.addEventListener('click', (e) => explode(e.clientX, e.clientY));
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });
    </script>
</body>
</html>